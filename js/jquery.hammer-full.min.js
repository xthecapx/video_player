/*! jQuery plugin for Hammer.JS - v1.1.3 - 2014-05-20
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(U,l){var H=function H(am,al){return new H.Instance(am,al||{})};H.VERSION="1.1.3";H.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};H.DOCUMENT=document;H.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;H.HAS_TOUCHEVENTS=("ontouchstart" in U);H.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);H.NO_MOUSEEVENTS=(H.HAS_TOUCHEVENTS&&H.IS_MOBILE)||H.HAS_POINTEREVENTS;H.CALCULATE_INTERVAL=25;var L={};var D=H.DIRECTION_DOWN="down";var y=H.DIRECTION_LEFT="left";var ad=H.DIRECTION_UP="up";var J=H.DIRECTION_RIGHT="right";var ab=H.POINTER_MOUSE="mouse";var c=H.POINTER_TOUCH="touch";var s=H.POINTER_PEN="pen";var r=H.EVENT_START="start";var G=H.EVENT_MOVE="move";var w=H.EVENT_END="end";var k=H.EVENT_RELEASE="release";var O=H.EVENT_TOUCH="touch";H.READY=false;H.plugins=H.plugins||{};H.gestures=H.gestures||{};function f(){if(H.READY){return}Q.determineEventTypes();R.each(H.gestures,function(al){n.register(al)});Q.onTouch(H.DOCUMENT,G,n.detect);Q.onTouch(H.DOCUMENT,w,n.detect);H.READY=true}var R=H.utils={extend:function j(al,an,ao){for(var am in an){if(!an.hasOwnProperty(am)||(al[am]!==l&&ao)){continue}al[am]=an[am]}return al},on:function K(al,an,am){al.addEventListener(an,am,false)},off:function V(al,an,am){al.removeEventListener(an,am,false)},each:function Z(ap,ao,an){var am,al;if("forEach" in ap){ap.forEach(ao,an)}else{if(ap.length!==l){for(am=0,al=ap.length;am<al;am++){if(ao.call(an,ap[am],am,ap)===false){return}}}else{for(am in ap){if(ap.hasOwnProperty(am)&&ao.call(an,ap[am],am,ap)===false){return}}}}},inStr:function T(am,al){return am.indexOf(al)>-1},inArray:function af(ap,ao){if(ap.indexOf){var am=ap.indexOf(ao);return(am===-1)?false:am}else{for(var an=0,al=ap.length;an<al;an++){if(ap[an]===ao){return an}}return false}},toArray:function z(al){return Array.prototype.slice.call(al,0)},hasParent:function ae(am,al){while(am){if(am==al){return true}am=am.parentNode}return false},getCenter:function I(ar){var ap=[],an=[],aq=[],ao=[],am=Math.min,al=Math.max;if(ar.length===1){return{pageX:ar[0].pageX,pageY:ar[0].pageY,clientX:ar[0].clientX,clientY:ar[0].clientY}}R.each(ar,function(at){ap.push(at.pageX);an.push(at.pageY);aq.push(at.clientX);ao.push(at.clientY)});return{pageX:(am.apply(Math,ap)+al.apply(Math,ap))/2,pageY:(am.apply(Math,an)+al.apply(Math,an))/2,clientX:(am.apply(Math,aq)+al.apply(Math,aq))/2,clientY:(am.apply(Math,ao)+al.apply(Math,ao))/2}},getVelocity:function a(an,am,al){return{x:Math.abs(am/an)||0,y:Math.abs(al/an)||0}},getAngle:function p(an,am){var al=am.clientX-an.clientX,ao=am.clientY-an.clientY;return Math.atan2(ao,al)*180/Math.PI},getDirection:function m(an,am){var al=Math.abs(an.clientX-am.clientX),ao=Math.abs(an.clientY-am.clientY);if(al>=ao){return an.clientX-am.clientX>0?y:J}return an.clientY-am.clientY>0?ad:D},getDistance:function o(an,am){var al=am.clientX-an.clientX,ao=am.clientY-an.clientY;return Math.sqrt((al*al)+(ao*ao))},getScale:function F(am,al){if(am.length>=2&&al.length>=2){return this.getDistance(al[0],al[1])/this.getDistance(am[0],am[1])}return 1},getRotation:function A(am,al){if(am.length>=2&&al.length>=2){return this.getAngle(al[1],al[0])-this.getAngle(am[1],am[0])}return 0},isVertical:function P(al){return al==ad||al==D},setPrefixedCss:function ag(an,ar,ap,al){var ao=["","Webkit","Moz","O","ms"];ar=R.toCamelCase(ar);for(var am=0;am<ao.length;am++){var aq=ar;if(ao[am]){aq=ao[am]+aq.slice(0,1).toUpperCase()+aq.slice(1)}if(aq in an.style){an.style[aq]=(al==null||al)&&ap||"";break}}},toggleBehavior:function S(an,ao,am){if(!ao||!an||!an.style){return}R.each(ao,function(ap,aq){R.setPrefixedCss(an,aq,ap,am)});var al=am&&function(){return false};if(ao.userSelect=="none"){an.onselectstart=al}if(ao.userDrag=="none"){an.ondragstart=al}},toCamelCase:function u(al){return al.replace(/[_-]([a-z])/g,function(am){return am[1].toUpperCase()})}};H.Instance=function(an,am){var al=this;f();this.element=an;this.enabled=true;R.each(am,function(ap,ao){delete am[ao];am[R.toCamelCase(ao)]=ap});this.options=R.extend(R.extend({},H.defaults),am||{});if(this.options.behavior){R.toggleBehavior(this.element,this.options.behavior,true)}this.eventStartHandler=Q.onTouch(an,r,function(ao){if(al.enabled&&ao.eventType==r){n.startDetect(al,ao)}else{if(ao.eventType==O){n.detect(ao)}}});this.eventHandlers=[]};H.Instance.prototype={on:function W(an,am){var al=this;Q.on(al.element,an,am,function(ao){al.eventHandlers.push({gesture:ao,handler:am})});return al},off:function q(an,am){var al=this;Q.off(al.element,an,am,function(ap){var ao=R.inArray({gesture:ap,handler:am});if(ao!==false){al.eventHandlers.splice(ao,1)}});return al},trigger:function ac(am,ao){if(!ao){ao={}}var an=H.DOCUMENT.createEvent("Event");an.initEvent(am,true,true);an.gesture=ao;var al=this.element;if(R.hasParent(ao.target,al)){al=ao.target}al.dispatchEvent(an);return this},enable:function e(al){this.enabled=al;return this},dispose:function C(){var al,am;R.toggleBehavior(this.element,this.options.behavior,false);for(al=-1;(am=this.eventHandlers[++al]);){R.off(this.element,am.gesture,am.handler)}this.eventHandlers=[];Q.off(this.element,L[r],this.eventStartHandler);return null}};var Q=H.event={preventMouseEvents:false,started:false,shouldDetect:false,on:function K(am,ao,an,ap){var al=ao.split(" ");R.each(al,function(aq){R.on(am,aq,an);ap&&ap(aq)})},off:function V(am,ao,an,ap){var al=ao.split(" ");R.each(al,function(aq){R.off(am,aq,an);ap&&ap(aq)})},onTouch:function N(an,am,ao){var al=this;var ap=function ap(au){var av=au.type.toLowerCase(),aq=H.HAS_POINTEREVENTS,at=R.inStr(av,"mouse"),ar;if(at&&al.preventMouseEvents){return}else{if(at&&am==r&&au.button===0){al.preventMouseEvents=false;al.shouldDetect=true}else{if(aq&&am==r){al.shouldDetect=(au.buttons===1||d.matchType(c,au))}else{if(!at&&am==r){al.preventMouseEvents=true;al.shouldDetect=true}}}}if(aq&&am!=w){d.updatePointer(am,au)}if(al.shouldDetect){ar=al.doDetect.call(al,au,am,an,ao)}if(ar==w){al.preventMouseEvents=false;al.shouldDetect=false;d.reset()}if(aq&&am==w){d.updatePointer(am,au)}};this.on(an,L[am],ap);return ap},doDetect:function ai(ar,am,ap,au){var al=this.getTouchList(ar,am);var av=al.length;var an=am;var ao=al.trigger;var at=av;if(am==r){ao=O}else{if(am==w){ao=k;at=al.length-((ar.changedTouches)?ar.changedTouches.length:1)}}if(at>0&&this.started){an=G}this.started=true;var aq=this.collectEventData(ap,an,al,ar);if(am!=w){au.call(n,aq)}if(ao){aq.changedLength=at;aq.eventType=ao;au.call(n,aq);aq.eventType=an;delete aq.changedLength}if(an==w){au.call(n,aq);this.started=false}return an},determineEventTypes:function aa(){var al;if(H.HAS_POINTEREVENTS){if(U.PointerEvent){al=["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]}else{al=["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]}}else{if(H.NO_MOUSEEVENTS){al=["touchstart","touchmove","touchend touchcancel"]}else{al=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}}L[r]=al[0];L[G]=al[1];L[w]=al[2];return L},getTouchList:function v(ao,an){if(H.HAS_POINTEREVENTS){return d.getTouchList()}if(ao.touches){if(an==G){return ao.touches}var al=[];var ap=[].concat(R.toArray(ao.touches),R.toArray(ao.changedTouches));var am=[];R.each(ap,function(aq){if(R.inArray(al,aq.identifier)===false){am.push(aq)}al.push(aq.identifier)});return am}ao.identifier=1;return[ao]},collectEventData:function aj(an,am,ap,ao){var al=c;if(R.inStr(ao.type,"mouse")||d.matchType(ab,ao)){al=ab}else{if(d.matchType(s,ao)){al=s}}return{center:R.getCenter(ap),timeStamp:Date.now(),target:ao.target,touches:ap,eventType:am,pointerType:al,srcEvent:ao,preventDefault:function(){var aq=this.srcEvent;aq.preventManipulation&&aq.preventManipulation();aq.preventDefault&&aq.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.stopDetect()}}}};var d=H.PointerEvent={pointers:{},getTouchList:function v(){var al=[];R.each(this.pointers,function(am){al.push(am)});return al},updatePointer:function Y(al,am){if(al==w||(al!=w&&am.buttons!==1)){delete this.pointers[am.pointerId]}else{am.identifier=am.pointerId;this.pointers[am.pointerId]=am}},matchType:function X(al,an){if(!an.pointerType){return false}var ao=an.pointerType,am={};am[ab]=(ao===(an.MSPOINTER_TYPE_MOUSE||ab));am[c]=(ao===(an.MSPOINTER_TYPE_TOUCH||c));am[s]=(ao===(an.MSPOINTER_TYPE_PEN||s));return am[al]},reset:function x(){this.pointers={}}};var n=H.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function M(am,al){if(this.current){return}this.stopped=false;this.current={inst:am,startEvent:R.extend({},al),lastEvent:false,lastCalcEvent:false,futureCalcEvent:false,lastCalcData:{},name:""};this.detect(al)},detect:function t(am){if(!this.current||this.stopped){return}am=this.extendEventData(am);var an=this.current.inst,ao=an.options;R.each(this.gestures,function al(ap){if(!this.stopped&&an.enabled&&ao[ap.name]){ap.handler.call(ap,am,an)}},this);if(this.current){this.current.lastEvent=am}if(am.eventType==w){this.stopDetect()}return am},stopDetect:function b(){this.previous=R.extend({},this.current);this.current=null;this.stopped=true},getCalculatedData:function i(at,am,ar,ap,ao){var au=this.current,aq=false,an=au.lastCalcEvent,al=au.lastCalcData;if(an&&at.timeStamp-an.timeStamp>H.CALCULATE_INTERVAL){am=an.center;ar=at.timeStamp-an.timeStamp;ap=at.center.clientX-an.center.clientX;ao=at.center.clientY-an.center.clientY;aq=true}if(at.eventType==O||at.eventType==k){au.futureCalcEvent=at}if(!au.lastCalcEvent||aq){al.velocity=R.getVelocity(ar,ap,ao);al.angle=R.getAngle(am,at.center);al.direction=R.getDirection(am,at.center);au.lastCalcEvent=au.futureCalcEvent||at;au.futureCalcEvent=at}at.velocityX=al.velocity.x;at.velocityY=al.velocity.y;at.interimAngle=al.angle;at.interimDirection=al.direction},extendEventData:function E(ap){var ar=this.current,aq=ar.startEvent,ao=ar.lastEvent||aq;if(ap.eventType==O||ap.eventType==k){aq.touches=[];R.each(ap.touches,function(at){aq.touches.push({clientX:at.clientX,clientY:at.clientY})})}var an=ap.timeStamp-aq.timeStamp,am=ap.center.clientX-aq.center.clientX,al=ap.center.clientY-aq.center.clientY;this.getCalculatedData(ap,ao.center,an,am,al);R.extend(ap,{startEvent:aq,deltaTime:an,deltaX:am,deltaY:al,distance:R.getDistance(aq.center,ap.center),angle:R.getAngle(aq.center,ap.center),direction:R.getDirection(aq.center,ap.center),scale:R.getScale(aq.touches,ap.touches),rotation:R.getRotation(aq.touches,ap.touches)});return ap},register:function g(am){var al=am.defaults||{};if(al[am.name]===l){al[am.name]=true}R.extend(H.defaults,al,true);am.index=am.index||1000;this.gestures.push(am);this.gestures.sort(function(ao,an){if(ao.index<an.index){return -1}if(ao.index>an.index){return 1}return 0});return this.gestures}};(function(am){var al=false;function an(ar,at){var av=n.current;if(at.options.dragMaxTouches>0&&ar.touches.length>at.options.dragMaxTouches){return}switch(ar.eventType){case r:al=false;break;case G:if(ar.distance<at.options.dragMinDistance&&av.name!=am){return}var ao=av.startEvent.center;if(av.name!=am){av.name=am;if(at.options.dragDistanceCorrection&&ar.distance>0){var ap=Math.abs(at.options.dragMinDistance/ar.distance);ao.pageX+=ar.deltaX*ap;ao.pageY+=ar.deltaY*ap;ao.clientX+=ar.deltaX*ap;ao.clientY+=ar.deltaY*ap;ar=n.extendEventData(ar)}}if(av.lastEvent.dragLockToAxis||(at.options.dragLockToAxis&&at.options.dragLockMinDistance<=ar.distance)){ar.dragLockToAxis=true}var aq=av.lastEvent.direction;if(ar.dragLockToAxis&&aq!==ar.direction){if(R.isVertical(aq)){ar.direction=(ar.deltaY<0)?ad:D}else{ar.direction=(ar.deltaX<0)?y:J}}if(!al){at.trigger(am+"start",ar);al=true}at.trigger(am,ar);at.trigger(am+ar.direction,ar);var au=R.isVertical(ar.direction);if((at.options.dragBlockVertical&&au)||(at.options.dragBlockHorizontal&&!au)){ar.preventDefault()}break;case k:if(al&&ar.changedLength<=at.options.dragMaxTouches){at.trigger(am+"end",ar);al=false}break;case w:al=false;break}}H.gestures.Drag={name:am,index:50,handler:an,defaults:{dragMinDistance:10,dragDistanceCorrection:true,dragMaxTouches:1,dragBlockHorizontal:false,dragBlockVertical:false,dragLockToAxis:false,dragLockMinDistance:25}}})("drag");H.gestures.Gesture={name:"gesture",index:1337,handler:function ah(al,am){am.trigger(this.name,al)}};(function(al){var an;function am(ap,aq){var ao=aq.options,ar=n.current;switch(ap.eventType){case r:clearTimeout(an);ar.name=al;an=setTimeout(function(){if(ar&&ar.name==al){aq.trigger(al,ap)}},ao.holdTimeout);break;case G:if(ap.distance>ao.holdThreshold){clearTimeout(an)}break;case k:clearTimeout(an);break}}H.gestures.Hold={name:al,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:am}})("hold");H.gestures.Release={name:"release",index:Infinity,handler:function ah(al,am){if(al.eventType==k){am.trigger(this.name,al)}}};H.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:0.6,swipeVelocityY:0.6},handler:function ak(am,an){if(am.eventType==k){var ao=am.touches.length,al=an.options;if(ao<al.swipeMinTouches||ao>al.swipeMaxTouches){return}if(am.velocityX>al.swipeVelocityX||am.velocityY>al.swipeVelocityY){an.trigger(this.name,am);an.trigger(this.name+am.direction,am)}}}};(function(an){var am=false;function al(at,au){var aq=au.options,av=n.current,ar=n.previous,ap,ao;switch(at.eventType){case r:am=false;break;case G:am=am||(at.distance>aq.tapMaxDistance);break;case w:if(!R.inStr(at.srcEvent.type,"cancel")&&at.deltaTime<aq.tapMaxTime&&!am){ap=ar&&ar.lastEvent&&at.timeStamp-ar.lastEvent.timeStamp;ao=false;if(ar&&ar.name==an&&(ap&&ap<aq.doubleTapInterval)&&at.distance<aq.doubleTapDistance){au.trigger("doubletap",at);ao=true}if(!ao||aq.tapAlways){av.name=an;au.trigger(av.name,at)}}break}}H.gestures.Tap={name:an,index:100,handler:al,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:true,doubleTapDistance:20,doubleTapInterval:300}}})("tap");H.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:false,preventMouse:false},handler:function h(al,am){if(am.options.preventMouse&&al.pointerType==ab){al.stopDetect();return}if(am.options.preventDefault){al.preventDefault()}if(al.eventType==O){am.trigger("touch",al)}}};(function(am){var al=false;function an(ap,aq){switch(ap.eventType){case r:al=false;break;case G:if(ap.touches.length<2){return}var ao=Math.abs(1-ap.scale);var ar=Math.abs(ap.rotation);if(ao<aq.options.transformMinScale&&ar<aq.options.transformMinRotation){return}n.current.name=am;if(!al){aq.trigger(am+"start",ap);al=true}aq.trigger(am,ap);if(ar>aq.options.transformMinRotation){aq.trigger("rotate",ap)}if(ao>aq.options.transformMinScale){aq.trigger("pinch",ap);aq.trigger("pinch"+(ap.scale<1?"in":"out"),ap)}break;case k:if(al&&ap.changedLength<2){aq.trigger(am+"end",ap);al=false}break}}H.gestures.Transform={name:am,index:45,defaults:{transformMinScale:0.01,transformMinRotation:1},handler:an}})("transform");U.Hammer=H;if(typeof module!=="undefined"&&module.exports){module.exports=H}function B(al,an){if(!Date.now){Date.now=function am(){return new Date().getTime()}}al.utils.each(["on","off"],function(ao){al.utils[ao]=function(ap,ar,aq){an(ap)[ao](ar,function(at){var au=an.extend({},at.originalEvent,at);if(au.button===l){au.button=at.which-1}aq.call(this,au)})}});al.Instance.prototype.trigger=function(ao,aq){var ap=an(this.element);if(ap.has(aq.target).length){ap=an(aq.target)}return ap.trigger({type:ao,gesture:aq})};an.fn.hammer=function(ao){return this.each(function(){var ap=an(this);var aq=ap.data("hammer");if(!aq){ap.data("hammer",new al(this,ao||{}))}else{if(aq&&ao){al.utils.extend(aq.options,ao)}}})}}if(typeof define=="function"&&define.amd){define(["jquery"],function(al){return B(U.Hammer,al)})}else{B(U.Hammer,U.jQuery||U.Zepto)}})(window);